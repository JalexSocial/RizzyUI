@using System.Collections.Generic
@namespace RizzyUI
@inherits RizzyComponent

<HtmlElement Element="@Element" @attributes="@AdditionalAttributes" class="@RootClass()">
    <div x-data="{ currentHeadingId: '', setCurrentHeading(id) { this.currentHeadingId = id } }">
        <CascadingValue Value="this">
            @ChildContent
        </CascadingValue>
    </div>
</HtmlElement>



@code {
    private readonly List<HeadingItem> _headingItems = new();

    /// <summary>
    /// Child content of the QuickReferenceContainer.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Registers a heading with the QuickReferenceContainer.
    /// </summary>
    /// <param name="level">The heading level.</param>
    /// <param name="title">The title of the heading.</param>
    /// <param name="id">The unique ID of the heading element.</param>
    internal void RegisterHeading(HeadingLevel level, string title, string id)
    {
        _headingItems.Add(new HeadingItem(level, title, id));
    }

    /// <summary>
    /// Gets the list of registered heading items.
    /// </summary>
    /// <returns>A read-only list of heading items.</returns>
    public IReadOnlyList<HeadingItem> GetHeadingItems()
    {
        return _headingItems.AsReadOnly();
    }
}