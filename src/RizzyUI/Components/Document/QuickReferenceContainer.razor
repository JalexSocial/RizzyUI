@using System.Collections.Generic
@namespace RizzyUI
@inherits RizzyComponent

<CascadingValue Value="this">
    @ChildContent
</CascadingValue>

@code {
    private readonly List<HeadingItem> _headingItems = new();

    /// <summary>
    /// Child content of the QuickReferenceContainer.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Registers a heading with the QuickReferenceContainer.
    /// </summary>
    /// <param name="level">The heading level.</param>
    /// <param name="title">The title of the heading.</param>
    internal void RegisterHeading(HeadingLevel level, string title)
    {
        _headingItems.Add(new HeadingItem(level, title));
        StateHasChanged();
    }

    /// <summary>
    /// Gets the list of registered heading items.
    /// </summary>
    /// <returns>A read-only list of heading items.</returns>
    public IReadOnlyList<HeadingItem> GetHeadingItems()
    {
        return _headingItems.AsReadOnly();
    }
}