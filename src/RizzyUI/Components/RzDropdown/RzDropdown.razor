@namespace RizzyUI
@inherits RzComponent

<HtmlElement Element="div" @attributes="@AdditionalAttributes" class="@ContainerClass">
	<div x-data="rzDropdown" data-anchor="@Anchor.ToString().ToLowerInvariant()" class="@RelativeWrapperClass">
		<div
			class="@TriggerWrapperClass"
			aria-haspopup="true"
			x-bind:aria-expanded="dropdownOpen"
			x-on:click="toggleDropdown"
			x-on:keydown.space.prevent="openWithKeyboard"
			x-on:keydown.enter.prevent="openWithKeyboard"
			x-on:keydown.down.prevent="openWithKeyboard"
			x-on:keydown.esc.window="closeDropdown">
			<div>@Trigger</div>
		</div>
		<div x-cloak
		     x-show="dropdownOpen"
		     x-transition:enter="transition ease-out duration-100"
		     x-transition:enter-start="opacity-0 scale-90"
		     x-transition:enter-end="opacity-100 scale-100"
		     x-transition:leave="transition ease-in duration-75"
		     x-transition:leave-start="opacity-100 scale-100"
		     x-transition:leave-end="opacity-0 scale-90"
		     x-on:click.outside="closeDropdown"
		     x-trap="openedWithKeyboard"
		     x-on:keydown.down.prevent="focusWrapNext" x-on:keydown.up.prevent="focusWrapPrevious"
		     role="menu"
		     aria-labelledby="rz-dropdown-trigger" @* Consider making trigger id dynamic if needed *@
		     class="@MenuContainerClass"
		     x-bind:class="anchorCss">
			<div class="@MenuInnerContainerClass">
				@Content
			</div>
		</div>
	</div>
</HtmlElement>

