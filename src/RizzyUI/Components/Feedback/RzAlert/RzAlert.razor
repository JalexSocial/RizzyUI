
@namespace RizzyUI
@using Blazicons
@inherits RzComponent<RzAlert.Slots>

<CascadingValue Value="this" IsFixed="true">
	<HtmlElement Element="@EffectiveElement"
	             role="alert"
	             aria-live="assertive"
                 @attributes="@AdditionalAttributes"
                 id="@Id"
                 class="@_slots.GetBase()">
	    <div aria-atomic="true"
	         x-cloak
	         x-data="rzAlert" x-show="showAlert"
	         x-transition:enter="transition ease-out duration-200 motion-reduce:transition-none"
	         x-transition:enter-start="opacity-0"
	         x-transition:enter-end="opacity-100"
	         x-transition:leave="transition ease-in duration-100 motion-reduce:transition-none"
	         x-transition:leave-start="opacity-100"
	         x-transition:leave-end="opacity-0"
	         data-alpine-root="@Id">
	         <div class="@_slots.GetInnerContainer()">
		         @if (Icon != null)
		         {
			         <div class="@_slots.GetIconContainer()" aria-hidden="true">
				         @if (Pulse)
				         {
					         <div class="@_slots.GetIconPulse()"></div>
				         }
				         <Blazicon Svg="Icon"></Blazicon>
			         </div>
		         }
		         <div class="@_slots.GetContentContainer()">
			         @ChildContent
		         </div>

		         @if (Dismissable)
		         {
			         <button
				         type="button"
				         x-on:click="dismiss"
				         aria-label="@Localizer["RzAlert.CloseButtonAriaLabel"]"
				         class="@_slots.GetCloseButton()">
				         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" stroke="currentColor"
				              fill="none" stroke-width="2.5" class="@_slots.GetCloseButtonIcon()">
					         <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
				         </svg>
			         </button>
		         }
	         </div>
         </div>        
    </HtmlElement>
</CascadingValue>