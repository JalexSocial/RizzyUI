const devnull=function(){},bundleIdCache={},bundleResultCache={},bundleCallbackQueue={};function subscribe(e,n){e=Array.isArray(e)?e:[e];const l=[];let t,u,c,s,i=e.length,r=i;for(t=function(e,t){t.length&&l.push(e),r--,r||n(l)};i--;)u=e[i],c=bundleResultCache[u],c?t(u,c):(s=bundleCallbackQueue[u]=bundleCallbackQueue[u]||[],s.push(t))}function publish(e,n){if(!e)return;const l=bundleCallbackQueue[e];if(bundleResultCache[e]=n,l)for(;l.length;)l[0](e,n),l.splice(0,1)}function executeCallbacks(e,n){"function"==typeof e&&(e={success:e}),n.length?(e.error||devnull)(n):(e.success||devnull)(e)}function handleResourceEvent(e,n,l,t,u,c,s,i){let r=e.type[0];if(i)try{l.sheet.cssText.length||(r="e")}catch(e){18!==e.code&&(r="e")}if("e"===r){if((c+=1)<s)return loadFile(n,t,u,c)}else if("preload"===l.rel&&"style"===l.as)return void(l.rel="stylesheet");t(n,r,e.defaultPrevented)}function loadFile(e,n,l,t){const u=document,c=l.async,s=(l.numRetries||0)+1,i=l.before||devnull,r=e.replace(/[\?|#].*$/,""),o=e.replace(/^(css|img|module|nomodule)!/,"");let a,d,f;if(t=t||0,/(^css!|\.css$)/.test(r))f=u.createElement("link"),f.rel="stylesheet",f.href=o,a="hideFocus"in f,a&&f.relList&&(a=0,f.rel="preload",f.as="style"),l.inlineStyleNonce&&f.setAttribute("nonce",l.inlineStyleNonce);else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(r))f=u.createElement("img"),f.src=o;else if(f=u.createElement("script"),f.src=o,f.async=void 0===c||c,l.inlineScriptNonce&&f.setAttribute("nonce",l.inlineScriptNonce),d="noModule"in f,/^module!/.test(r)){if(!d)return n(e,"l");f.type="module"}else if(/^nomodule!/.test(r)&&d)return n(e,"l");const b=function(u){handleResourceEvent(u,e,f,n,l,t,s,a)};f.addEventListener("load",b,{once:!0}),f.addEventListener("error",b,{once:!0}),!1!==i(e,f)&&u.head.appendChild(f)}function loadFiles(e,n,l){let t=(e=Array.isArray(e)?e:[e]).length,u=[];function c(e,l,c){if("e"===l&&u.push(e),"b"===l){if(!c)return;u.push(e)}t--,t||n(u)}for(let n=0;n<e.length;n++)loadFile(e[n],c,l)}function loadjs(e,n,l){let t,u;if(n&&"string"==typeof n&&n.trim&&(t=n.trim()),u=(t?l:n)||{},t){if(t in bundleIdCache)throw"LoadJS";bundleIdCache[t]=!0}function c(n,l){loadFiles(e,(function(e){executeCallbacks(u,e),n&&executeCallbacks({success:n,error:l},e),publish(t,e)}),u)}if(u.returnPromise)return new Promise(c);c()}loadjs.ready=function(e,n){return subscribe(e,(function(e){executeCallbacks(n,e)})),loadjs},loadjs.done=function(e){publish(e,[])},loadjs.reset=function(){Object.keys(bundleIdCache).forEach((e=>delete bundleIdCache[e])),Object.keys(bundleResultCache).forEach((e=>delete bundleResultCache[e])),Object.keys(bundleCallbackQueue).forEach((e=>delete bundleCallbackQueue[e]))},loadjs.isDefined=function(e){return e in bundleIdCache};export default loadjs;