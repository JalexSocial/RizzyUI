@inherits TestContext
@namespace RizzyUI.TailwindVariants.Tests.Components.Link

@code
{
    public LinkTests()
    {
        Services.AddTailwindVariants();
    }

    [Fact]
    public void Renders_BaseClass_ByDefault()
    {
        // Arrange
        var cut = Render(
            @<Link />
        );

        // Act
        var a = cut.Find("a");

        // Assert
        a.ClassList.ShouldContain("inline-flex");
    }

    [Fact]
    public void Applies_Underline_Always()
    {
        // Arrange
        var cut = Render(
            @<Link Underline="@Link.Underlines.Always" />
        );

        // Act
        var a = cut.Find("a");

        // Assert
        a.ClassList.ShouldContain("underline");
    }

    [Fact]
    public void Applies_Color_Primary()
    {
        var cut = Render(
            @<Link Color="@Link.Colors.Primary" />
        );

        var a = cut.Find("a");

        a.ClassList.ShouldContain("text-sky-600");
    }

    [Fact]
    public void Applies_Size_Small()
    {
        var cut = Render(
            @<Link Size="@Link.Sizes.Small" />
        );

        var a = cut.Find("a");

        a.ClassList.ShouldContain("text-sm");
    }

    [Fact]
    public void Applies_Block()
    {
        // Arrange
        var cut = Render(
            @<Link Block />
        );

        // Act
        var a = cut.Find("a");

        // Assert
        a.ClassList.ShouldContain("after:content-['']");
        a.ClassList.ShouldNotContain("hover:opacity-hover ");
    }

    [Fact]
    public void Applies_Disabled()
    {
        // Arrange
        var cut = Render(
            @<Link Disabled />
        );

        // Act
        var a = cut.Find("a");

        // Assert
        a.ClassList.ShouldContain("opacity-disabled");
    }

    [Fact]
    public void PerInstance_Classes_AreApplied()
    {
        var cut = Render(
            @<Link Classes="@(new() { Base = "rounded-full" })" />
        );

        var a = cut.Find("a");
        a.ClassList.ShouldContain("rounded-full");
    }

    [Fact]
    public void PerInstance_ClassProperty_IsApplied()
    {
        var cut =  Render(
            @<Link Class="m-2" />
        );

        var a = cut.Find("a");

        a.ClassList.ShouldContain("m-2");
    }
}