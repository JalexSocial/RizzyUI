
@page "/components/command"
@namespace RizzyUI.Docs.Components.Pages.Components

@using RizzyUI
@using Blazicons

<PageTitle>Command</PageTitle>

<RzQuickReferenceContainer>
    <RzArticle ProseWidth="ProseWidth.UltraWide">
        <SideContent>
            <RzQuickReference />
        </SideContent>
        <MainContent>
            <RzHeading Level="HeadingLevel.H1" QuickReferenceTitle="Command" class="scroll-mt-20">Command</RzHeading>
            <RzParagraph>
                A fast, composable, and accessible command menu for Blazor SSR applications. Users can open the menu and start typing to filter a list of commands or options.
            </RzParagraph>
            <RzAlert Variant="AlertVariant.Information" class="my-5">
                <AlertTitle>Under the Hood</AlertTitle>
                <AlertDescription>
                    The <code>RzCommand</code> component family is powered by Alpine.js. It uses a performant architecture where items are defined as <code>&lt;template&gt;</code> tags and are only rendered into the DOM by Alpine when they match the search filter. This ensures excellent performance even with thousands of items.
                </AlertDescription>
            </RzAlert>

            <section class="my-8 py-2">
                <RzHeading Level="HeadingLevel.H2" QuickReferenceTitle="Example" class="scroll-mt-20">
                    Example
                </RzHeading>
                <RzParagraph>
                    Here is a basic example of the command component with a few groups and items.
                </RzParagraph>

                <div class="mx-auto p-8 mb-5 flex justify-center">
                    <RzCommand class="rounded-lg border shadow-md md:min-w-[450px]">
                        <CommandInput Placeholder="Type a command or search..." />
                        <CommandList>
                            <CommandEmpty>No results found.</CommandEmpty>
                            <CommandGroup Heading="Suggestions">
                                <CommandItem Value="Calendar">
                                    <Blazicon Svg="Lucide.Calendar" class="mr-2 size-4" />
                                    <span>Calendar</span>
                                </CommandItem>
                                <CommandItem Value="Search Emoji">
                                    <Blazicon Svg="Lucide.Smile" class="mr-2 size-4" />
                                    <span>Search Emoji</span>
                                </CommandItem>
                                <CommandItem Value="Calculator" Disabled="true">
                                    <Blazicon Svg="Lucide.Calculator" class="mr-2 size-4" />
                                    <span>Calculator</span>
                                </CommandItem>
                            </CommandGroup>
                            <CommandSeparator />
                            <CommandGroup Heading="Settings">
                                <CommandItem Value="Profile">
                                    <Blazicon Svg="Lucide.User" class="mr-2 size-4" />
                                    <span>Profile</span>
                                    <CommandShortcut>⌘P</CommandShortcut>
                                </CommandItem>
                                <CommandItem Value="Billing">
                                    <Blazicon Svg="Lucide.CreditCard" class="mr-2 size-4" />
                                    <span>Billing</span>
                                    <CommandShortcut>⌘B</CommandShortcut>
                                </CommandItem>
                                <CommandItem Value="Settings">
                                    <Blazicon Svg="Lucide.Settings" class="mr-2 size-4" />
                                    <span>Settings</span>
                                    <CommandShortcut>⌘S</CommandShortcut>
                                </CommandItem>
                            </CommandGroup>
                        </CommandList>
                    </RzCommand>
                </div>


                <RzCodeViewer Language="@CodeLanguage.Razor" class="mb-10">
&lt;RzCommand class="rounded-lg border shadow-md md:min-w-[450px]"&gt;
    &lt;CommandInput Placeholder="Type a command or search..." /&gt;
    &lt;CommandList&gt;
        &lt;CommandEmpty&gt;No results found.&lt;/CommandEmpty&gt;
        &lt;CommandGroup Heading="Suggestions"&gt;
            &lt;CommandItem Value="Calendar"&gt;
                &lt;Blazicon Svg="Lucide.Calendar" class="mr-2 size-4" /&gt;
                &lt;span&gt;Calendar&lt;/span&gt;
            &lt;/CommandItem&gt;
            &lt;CommandItem Value="Search Emoji"&gt;
                &lt;Blazicon Svg="Lucide.Smile" class="mr-2 size-4" /&gt;
                &lt;span&gt;Search Emoji&lt;/span&gt;
            &lt;/CommandItem&gt;
            &lt;CommandItem Value="Calculator" Disabled="true"&gt;
                &lt;Blazicon Svg="Lucide.Calculator" class="mr-2 size-4" /&gt;
                &lt;span&gt;Calculator&lt;/span&gt;
            &lt;/CommandItem&gt;
        &lt;/CommandGroup&gt;
        &lt;CommandSeparator /&gt;
        &lt;CommandGroup Heading="Settings"&gt;
            &lt;CommandItem Value="Profile"&gt;
                &lt;Blazicon Svg="Lucide.User" class="mr-2 size-4" /&gt;
                &lt;span&gt;Profile&lt;/span&gt;
                &lt;CommandShortcut&gt;⌘P&lt;/CommandShortcut&gt;
            &lt;/CommandItem&gt;
            &lt;CommandItem Value="Billing"&gt;
                &lt;Blazicon Svg="Lucide.CreditCard" class="mr-2 size-4" /&gt;
                &lt;span&gt;Billing&lt;/span&gt;
                &lt;CommandShortcut&gt;⌘B&lt;/CommandShortcut&gt;
            &lt;/CommandItem&gt;
            &lt;CommandItem Value="Settings"&gt;
                &lt;Blazicon Svg="Lucide.Settings" class="mr-2 size-4" /&gt;
                &lt;span&gt;Settings&lt;/span&gt;
                &lt;CommandShortcut&gt;⌘S&lt;/CommandShortcut&gt;
            &lt;/CommandItem&gt;
        &lt;/CommandGroup&gt;
    &lt;/CommandList&gt;
&lt;/RzCommand&gt;
                </RzCodeViewer>
            </section>

            <section class="my-8 py-2">
                <RzHeading Level="HeadingLevel.H2" QuickReferenceTitle="Dialog" class="scroll-mt-20">
                    Dialog
                </RzHeading>
                <RzParagraph>
                    To show the command menu in a dialog, use the <code>RzCommandDialog</code> component. You can control its visibility by binding to the <code>Open</code> parameter or by dispatching a window event matching its <code>EventTriggerName</code>.
                </RzParagraph>

                <div class="mx-auto p-8 mb-5 flex flex-col justify-center items-center min-h-80"
                     x-on:keydown.window.cmd.k.prevent="$dispatch('show-command-dialog')"
                     x-on:keydown.window.ctrl.k.prevent="$dispatch('show-command-dialog')">
                    <p class="text-muted-foreground text-sm">
                        Press
                        <RzKbdGroup>
                            <RzKbd>⌘</RzKbd>
                            <RzKbd>K</RzKbd>
                        </RzKbdGroup>
                    </p>

                    <RzCommandDialog EventTriggerName="show-command-dialog">
                        <CommandInput Placeholder="Type a command or search..." />
                        <CommandList>
                            <CommandEmpty>No results found.</CommandEmpty>
                            <CommandGroup Heading="Suggestions">
                                <CommandItem Value="Calendar">
                                    <Blazicon Svg="Lucide.Calendar" class="mr-2 size-4" />
                                    <span>Calendar</span>
                                </CommandItem>
                                <CommandItem Value="Search Emoji">
                                    <Blazicon Svg="Lucide.Smile" class="mr-2 size-4" />
                                    <span>Search Emoji</span>
                                </CommandItem>
                                <CommandItem Value="Calculator">
                                    <Blazicon Svg="Lucide.Calculator" class="mr-2 size-4" />
                                    <span>Calculator</span>
                                </CommandItem>
                            </CommandGroup>
                            <CommandSeparator />
                            <CommandGroup Heading="Settings">
                                <CommandItem Value="Profile">
                                    <Blazicon Svg="Lucide.User" class="mr-2 size-4" />
                                    <span>Profile</span>
                                    <CommandShortcut>⌘P</CommandShortcut>
                                </CommandItem>
                                <CommandItem Value="Billing">
                                    <Blazicon Svg="Lucide.CreditCard" class="mr-2 size-4" />
                                    <span>Billing</span>
                                    <CommandShortcut>⌘B</CommandShortcut>
                                </CommandItem>
                                <CommandItem Value="Settings">
                                    <Blazicon Svg="Lucide.Settings" class="mr-2 size-4" />
                                    <span>Settings</span>
                                    <CommandShortcut>⌘S</CommandShortcut>
                                </CommandItem>
                            </CommandGroup>
                        </CommandList>
                    </RzCommandDialog>
                </div>

                <RzCodeViewer Language="@CodeLanguage.Razor" class="mb-10">
&lt;div x-on:keydown.window.cmd.k.prevent="$dispatch('show-command-dialog') x-on:keydown.window.ctrl.k.prevent="$dispatch('show-command-dialog')"&gt;
    &lt;p class="text-muted-foreground text-sm"&gt;
        Press
        &lt;RzKbdGroup&gt;
            &lt;RzKbd&gt;⌘&lt;/RzKbd&gt;
            &lt;RzKbd&gt;K&lt;/RzKbd&gt;
        &lt;/RzKbdGroup&gt;
    &lt;/p&gt;

    &lt;RzCommandDialog EventTriggerName="show-command-dialog"&gt;
        &lt;CommandInput Placeholder="Type a command or search..." /&gt;
        &lt;CommandList&gt;
            &lt;CommandEmpty&gt;No results found.&lt;/CommandEmpty&gt;
            &lt;CommandGroup Heading="Suggestions"&gt;
                &lt;CommandItem&gt;
                    &lt;Blazicon Svg="Lucide.Calendar" class="mr-2 size-4" /&gt;
                    &lt;span&gt;Calendar&lt;/span&gt;
                &lt;/CommandItem&gt;
                &lt;!-- ... other items ... --&gt;
            &lt;/CommandGroup&gt;
        &lt;/CommandList&gt;
    &lt;/RzCommandDialog&gt;
&lt;/div&gt;
                </RzCodeViewer>
            </section>

            <section class="my-8 py-2">
                <RzHeading Level="HeadingLevel.H2" QuickReferenceTitle="Component Parameters" class="scroll-mt-20">
                    Component Parameters
                </RzHeading>
                <RzParagraph>
                    The following tables summarize the parameters for each component in the Command family.
                </RzParagraph>

                <RzHeading Level="HeadingLevel.H3" class="mt-6">RzCommand</RzHeading>
                <div class="not-prose mt-6 mb-10 overflow-hidden rounded-md border">
                    <table class="w-full text-sm">
                        <thead class="text-left bg-muted/50 font-semibold">
                            <tr><th class="p-4">Property</th><th class="p-4">Type</th><th class="p-4">Default</th><th class="p-4">Description</th></tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr class="align-top"><td class="p-4"><code>ChildContent</code></td><td class="p-4"><code>RenderFragment</code></td><td class="p-4">Required</td><td class="p-4">The inner components of the command menu.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>AriaLabel</code></td><td class="p-4"><code>string?</code></td><td class="p-4">"Command Menu"</td><td class="p-4">Accessible label for the command menu container.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>ShouldFilter</code></td><td class="p-4"><code>bool</code></td><td class="p-4"><code>true</code></td><td class="p-4">Whether to enable the built-in filtering and sorting.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>Loop</code></td><td class="p-4"><code>bool</code></td><td class="p-4"><code>false</code></td><td class="p-4">Whether keyboard navigation should wrap around the list.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>SelectedValue</code></td><td class="p-4"><code>string?</code></td><td class="p-4"><code>null</code></td><td class="p-4">The value of the currently selected item. Can be used for two-way binding.</td></tr>
                        </tbody>
                    </table>
                </div>

                <RzHeading Level="HeadingLevel.H3" class="mt-6">RzCommandDialog</RzHeading>
                <div class="not-prose mt-6 mb-10 overflow-hidden rounded-md border">
                     <table class="w-full text-sm">
                        <thead class="text-left bg-muted/50 font-semibold">
                            <tr><th class="p-4">Property</th><th class="p-4">Type</th><th class="p-4">Default</th><th class="p-4">Description</th></tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr class="align-top"><td class="p-4"><code>Open</code></td><td class="p-4"><code>bool</code></td><td class="p-4"><code>false</code></td><td class="p-4">Controls the visibility of the dialog. Supports two-way binding with <code>@@bind-Open</code>.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>Title</code></td><td class="p-4"><code>string?</code></td><td class="p-4">"Command Palette"</td><td class="p-4">The title for the dialog, used for accessibility.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>Description</code></td><td class="p-4"><code>string?</code></td><td class="p-4">"Search for a command..."</td><td class="p-4">The description for the dialog, used for accessibility.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>ShowCloseButton</code></td><td class="p-4"><code>bool</code></td><td class="p-4"><code>true</code></td><td class="p-4">Whether to display the default 'X' close button.</td></tr>
                        </tbody>
                    </table>
                </div>

                <RzHeading Level="HeadingLevel.H3" class="mt-6">CommandItem</RzHeading>
                <div class="not-prose mt-6 mb-10 overflow-hidden rounded-md border">
                     <table class="w-full text-sm">
                        <thead class="text-left bg-muted/50 font-semibold">
                            <tr><th class="p-4">Property</th><th class="p-4">Type</th><th class="p-4">Default</th><th class="p-4">Description</th></tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr class="align-top"><td class="p-4"><code>Value</code></td><td class="p-4"><code>string?</code></td><td class="p-4">Inferred from content</td><td class="p-4">The unique value of the item, used for filtering and selection.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>Keywords</code></td><td class="p-4"><code>IEnumerable&lt;string&gt;</code></td><td class="p-4">Empty</td><td class="p-4">A list of additional keywords to match against during search.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>Disabled</code></td><td class="p-4"><code>bool</code></td><td class="p-4"><code>false</code></td><td class="p-4">If true, the item cannot be selected.</td></tr>
                            <tr class="align-top"><td class="p-4"><code>ForceMount</code></td><td class="p-4"><code>bool</code></td><td class="p-4"><code>false</code></td><td class="p-4">If true, the item will always be rendered, regardless of the search query.</td></tr>
                        </tbody>
                    </table>
                </div>
                
                <RzParagraph>
                    The components <code>CommandInput</code>, <code>CommandList</code>, <code>CommandEmpty</code>, <code>CommandGroup</code>, <code>CommandSeparator</code>, and <code>CommandShortcut</code> primarily accept <code>ChildContent</code> and pass through additional HTML attributes. They have no unique parameters beyond standard HTML attributes.
                </RzParagraph>
            </section>
        </MainContent>
    </RzArticle>
</RzQuickReferenceContainer>

@code {
    private bool _isDialogOpen;
}