
@namespace RizzyUI.Docs.Examples
@using RizzyUI

<EditForm Model="_model">
    <RzFieldSet>
        <RzFieldGroup>
            <RzFieldSet>
                <FieldLegend>Compute Environment</FieldLegend>
                <FieldDescription>
                    Select the compute environment for your cluster.
                </FieldDescription>
                <RzRadioGroup For="@(() => _model.Environment)" DisplayName="Environment">
                    <RadioGroupItem TValue="string" Value="@("kubernetes")">
                        <div class="bg-background relative flex w-full cursor-pointer items-start space-x-3 rounded-lg border p-4 shadow-sm transition-colors group-has-[.peer:checked]:border-primary hover:bg-accent">
                            <div class="grid gap-1.5 leading-none">
                                <span class="font-medium">Kubernetes</span>
                                <p class="text-muted-foreground text-sm">
                                    Run GPU workloads on a K8s configured cluster. This is the default.
                                </p>
                            </div>
                        </div>
                    </RadioGroupItem>
                    <RadioGroupItem TValue="string" Value="@("vm")">
                        <div class="bg-background relative flex w-full cursor-pointer items-start space-x-3 rounded-lg border p-4 shadow-sm transition-colors group-has-[.peer:checked]:border-primary hover:bg-accent">
                            <div class="grid gap-1.5 leading-none">
                                <span class="font-medium">Virtual Machine</span>
                                <p class="text-muted-foreground text-sm">
                                    Access a VM configured cluster to run workloads. (Coming soon)
                                </p>
                            </div>
                        </div>
                    </RadioGroupItem>
                </RzRadioGroup>                
            </RzFieldSet>

            <FieldSeparator />

            <Field Orientation="FieldOrientation.Horizontal">
                <FieldContent>
                    <FieldLabel For="() => _model.GpuCount">Number of GPUs</FieldLabel>
                    <FieldDescription>You can add more later.</FieldDescription>
                </FieldContent>
                <RzButtonGroup>
                    <RzInputNumber id="gpu-count" For="@(() => _model.GpuCount)" class="h-7 !w-14 font-mono" />
                    <RzButton Variant="ThemeVariant.Default" Outline Size="Size.Small" aria-label="Decrement" x-on:click="_model.GpuCount = Math.Max(1, _model.GpuCount - 1)">
                        <Blazicon Svg="@Lucide.Minus" />
                    </RzButton>
                    <RzButton Variant="ThemeVariant.Default" Outline Size="Size.Small" aria-label="Increment" x-on:click="_model.GpuCount = Math.Min(99, _model.GpuCount + 1)">
                        <Blazicon Svg="@Lucide.Plus" />
                    </RzButton>
                </RzButtonGroup>
            </Field>

            <FieldSeparator />

            <Field Orientation="FieldOrientation.Horizontal">
                <FieldContent>
                    <FieldLabel For="() => _model.WallpaperTinting">Wallpaper Tinting</FieldLabel>
                    <FieldDescription>
                        Allow the wallpaper to be tinted.
                    </FieldDescription>
                </FieldContent>
                <RzSwitch id="tinting" For="@(() => _model.WallpaperTinting)" />
            </Field>
        </RzFieldGroup>
    </RzFieldSet>
</EditForm>

@code {
    private SettingsModel _model = new();

    public class SettingsModel
    {
        public string Environment { get; set; } = "kubernetes";
        public int GpuCount { get; set; } = 8;
        public bool WallpaperTinting { get; set; } = true;
    }
}