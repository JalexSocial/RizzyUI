@inherits LayoutComponentBase
@using RizzyUI
@using Blazicons

<RzSidebarProvider>
    <Sidebar>
        <SidebarContent>
            <!-- Search -->
            <div class="relative my-4 flex w-full max-w-xs flex-col gap-1 text-sidebar-foreground">
                <RzSearchButton class="bg-background" />
            </div>

            <!-- Navigation Menu -->
            <SidebarMenu>
                <SidebarMenuItem>
                    <SidebarMenuButton AsChild>
                        <a href="/">
                            <Blazicon Svg="MdiIcon.ViewDashboard" />
                            <span>Home</span>
                        </a>
                    </SidebarMenuButton>
                </SidebarMenuItem>
                <SidebarMenuItem>
                    <SidebarMenuButton AsChild>
                        <a href="/themes">
                            <Blazicon Svg="MdiIcon.PaletteSwatchVariant" />
                            <span>Themes</span>
                        </a>
                    </SidebarMenuButton>
                </SidebarMenuItem>

                <!-- Collapsible Forms Section -->
                <SidebarMenuItem>
                    <details class="group">
                        <summary class="@Theme.SidebarMenuButton.ButtonBase @Theme.SidebarMenuButton.GetSizeCss(Size.Medium)">
                            <Blazicon Svg="MdiIcon.FormSelect" />
                            <span>Forms</span>
                            <Blazicon Svg="MdiIcon.ChevronDown" class="ml-auto size-4 transition-transform duration-200 group-open:rotate-180" />
                        </summary>
                        <SidebarMenuSub>
                            <SidebarMenuItem>
                                <SidebarMenuButton AsChild>
                                    <a href="/components/buttons"><span>Buttons</span></a>
                                </SidebarMenuButton>
                            </SidebarMenuItem>
                            <SidebarMenuItem>
                                <SidebarMenuButton AsChild>
                                    <a href="/components/checkboxgroup"><span>Checkbox</span></a>
                                </SidebarMenuButton>
                            </SidebarMenuItem>
                            <SidebarMenuItem>
                                <SidebarMenuButton AsChild>
                                    <a href="/components/textedit"><span>Text</span></a>
                                </SidebarMenuButton>
                            </SidebarMenuItem>
                        </SidebarMenuSub>
                    </details>
                </SidebarMenuItem>

                <SidebarMenuItem>
                    <details class="group">
                        <summary class="@Theme.SidebarMenuButton.ButtonBase @Theme.SidebarMenuButton.GetSizeCss(Size.Medium)">
                            <Blazicon Svg="MdiIcon.Navigation" />
                            <span>Navigation</span>
                            <Blazicon Svg="MdiIcon.ChevronDown" class="ml-auto size-4 transition-transform duration-200 group-open:rotate-180" />
                        </summary>
                        <SidebarMenuSub>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/breadcrumb"><span>Breadcrumb</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/dropdown"><span>Dropdown Menu</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/link"><span>Link</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/navbar"><span>Navbar</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/popover"><span>Popover</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/sidebar"><span>Sidebar</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/tabs"><span>Tabs</span></a></SidebarMenuButton></SidebarMenuItem>
                        </SidebarMenuSub>
                    </details>
                </SidebarMenuItem>

                <SidebarMenuItem>
                    <details class="group">
                        <summary class="@Theme.SidebarMenuButton.ButtonBase @Theme.SidebarMenuButton.GetSizeCss(Size.Medium)">
                            <Blazicon Svg="MdiIcon.ViewList" />
                            <span>Display</span>
                            <Blazicon Svg="MdiIcon.ChevronDown" class="ml-auto size-4 transition-transform duration-200 group-open:rotate-180" />
                        </summary>
                        <SidebarMenuSub>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/avatar"><span>Avatar</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/badge"><span>Badge</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/separator"><span>Separator</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/table"><span>Table</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/progress"><span>Progress</span></a></SidebarMenuButton></SidebarMenuItem>
                        </SidebarMenuSub>
                    </details>
                </SidebarMenuItem>

                <SidebarMenuItem>
                    <details class="group">
                        <summary class="@Theme.SidebarMenuButton.ButtonBase @Theme.SidebarMenuButton.GetSizeCss(Size.Medium)">
                            <Blazicon Svg="MdiIcon.Alert" />
                            <span>Feedback</span>
                            <Blazicon Svg="MdiIcon.ChevronDown" class="ml-auto size-4 transition-transform duration-200 group-open:rotate-180" />
                        </summary>
                        <SidebarMenuSub>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/alert"><span>Alert</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/toastnotification"><span>Toast Notification</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/modal"><span>Modal</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/tooltip"><span>Tooltip</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/spinner"><span>Spinner</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/skeleton"><span>Skeleton</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/steps"><span>Steps</span></a></SidebarMenuButton></SidebarMenuItem>
                        </SidebarMenuSub>
                    </details>
                </SidebarMenuItem>

                <SidebarMenuItem>
                    <details class="group">
                        <summary class="@Theme.SidebarMenuButton.ButtonBase @Theme.SidebarMenuButton.GetSizeCss(Size.Medium)">
                            <Blazicon Svg="MdiIcon.ViewGrid" />
                            <span>Layout</span>
                            <Blazicon Svg="MdiIcon.ChevronDown" class="ml-auto size-4 transition-transform duration-200 group-open:rotate-180" />
                        </summary>
                        <SidebarMenuSub>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/card"><span>Card</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/markdown"><span>Markdown</span></a></SidebarMenuButton></SidebarMenuItem>
                            <SidebarMenuItem><SidebarMenuButton AsChild><a href="/components/accordion"><span>Accordion</span></a></SidebarMenuButton></SidebarMenuItem>
                        </SidebarMenuSub>
                    </details>
                </SidebarMenuItem>
            </SidebarMenu>
        </SidebarContent>
    </Sidebar>

    <!-- Main Content Area -->
    <div class="flex flex-1 flex-col md:pl-[--sidebar-width]">
        <RzNavbar>
            <!-- Mobile Sidebar Trigger -->
            <SidebarTrigger class="md:hidden">
                <Blazicon Svg="MdiIcon.Menu" />
            </SidebarTrigger>

            <!-- Logo -->
            <a href="/" class="text-2xl font-bold text-black dark:text-white">
                <span class="sr-only">RizzyUI Home</span>
                <div class="w-32 md:w-50 px-2">
                    <img src="/images/rizzy-logo-wb.svg" alt="RizzyUI" class="w-full h-full"/>
                </div>
            </a>

            <!-- Right-aligned items -->
            <div class="flex items-center gap-4">
                <RzDarkModeToggle/>
            </div>
        </RzNavbar>

        <main class="flex-1 p-4 md:p-6 lg:p-8">
            @Body
        </main>
    </div>
</RzSidebarProvider>

@code {
    [CascadingParameter]
    private RzTheme Theme { get; set; } = null!;
}